{"ignition":{"config":{},"timeouts":{},"version":"2.1.0"},"networkd":{"units":[{"contents":"[Match]\nName=eth0\n[Network]\nAddress=192.168.3.2/24\nGateway=192.168.3.1\nDNS=192.168.1.1\n","name":"static.network"}]},"passwd":{"users":[{"name":"root","passwordHash":"$6$bT.CKtOX$zUvsBWyE1qK3KUVIk.xyc24dQc605vigJgrti0YyjKpQ1yc6KmYUq8CL6FQ11UC3X45XNvNgJNWNzSaLb.mAq/","sshAuthorizedKeys":["ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDRrv5XeKyECmRaG0a2NoovFWJJgP91/Xrcei2m5QNKkzpAcj7W2wJfM1n4qRAqwKKLJXeIWuLc+uoRLBVl2WyfKf5sQnGEWdommyubRYXi9EWSRf08XPNGntNKJRBqVLvYfg8PWFuqmhzKhgA2mT+kXcKlPtHvq60banc8gZHuPH+r7VSSsgOaBYPNvtIm3Tzzrgy3omXrgtWVUbCuYkdg2Q6y+tPM5W5EeeviqESsc1+hjQu5U3Qp/1emC+7dkLuBfuwb1VeMWcmp4v4juPc4T+aUMZLQ+xXqE3JofJP1g9ncgPKsdU6BKTcDzafhs3QswIB79El1QGZJDiMUHQ7D"]}]},"storage":{"files":[{"filesystem":"root","group":{},"path":"/etc/custom-environment","user":{},"contents":{"source":"data:,NODE_ROLE%3Dmanager%0ASLACK_WEBHOOK_URL%3Dhttps%3A%2F%2Fhooks.slack.com%2Fservices%2F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%0ASLACK_CHANNEL%3D%23ops%0A","verification":{}},"mode":755},{"filesystem":"root","group":{},"path":"/etc/coreos/update.conf","user":{},"contents":{"source":"data:,%0AREBOOT_STRATEGY%3D%22etcd-lock%22","verification":{}},"mode":420}]},"systemd":{"units":[{"dropins":[{"contents":"[Service]\nExecStart=\nExecStart=/usr/lib/coreos/etcd-wrapper $ETCD_OPTS \\\n  --name=\"core-1\" \\\n  --listen-peer-urls=\"http://192.168.3.2:2380\" \\\n  --listen-client-urls=\"http://0.0.0.0:2379\" \\\n  --initial-advertise-peer-urls=\"http://192.168.3.2:2380\" \\\n  --initial-cluster=\"core-1=http://192.168.3.2:2380\" \\\n  --initial-cluster-state=\"new\" \\\n  --initial-cluster-token=\"dev\" \\\n  --advertise-client-urls=\"http://192.168.3.2:2379\"","name":"20-clct-etcd-member.conf"}],"enable":true,"name":"etcd-member.service"},{"enabled":true,"name":"etcd-member.service"},{"contents":"[Unit]\nDescription=Cluster Bootstrap\nRequires=docker.service\nRequires=etcd-member.service\nAfter=docker.service\nAfter=etcd-member.service\n[Service]\nEnvironmentFile=-/etc/environment\nType=oneshot\nRemainAfterExit=yes\nExecStartPre=-/usr/bin/rm -rf /etc/coreos-docker-swarm-cluster\nExecStartPre=/usr/bin/git clone https://github.com/bob5ec/coreos-docker-swarm-cluster.git /etc/coreos-docker-swarm-cluster\nExecStart=/etc/coreos-docker-swarm-cluster/bootstrap.sh manager\n[Install]\nWantedBy=multi-user.target\n","enabled":true,"name":"cluster-bootstrap.service"},{"contents":"[Unit]\nDescription=Deployer for Docker Services\nRequires=docker.service\n#Requires=etcd-member.service\nAfter=docker.service\n#After=etcd-member.service\n#[Service]\n#EnvironmentFile=-/etc/environment\n#Type=oneshot\n#RemainAfterExit=yes\n#ExecStartPre=-/usr/bin/rm -rf /etc/coreos-docker-swarm-cluster\n#ExecStartPre=/usr/bin/git clone https://github.com/bob5ec/coreos-docker-swarm-cluster.git /etc/coreos-docker-swarm-cluster\n#ExecStart=/etc/coreos-docker-swarm-cluster/bootstrap.sh manager\n#[Install]\n#WantedBy=multi-user.target\n","enabled":true,"name":"deploy.service"}]}}